{"ast":null,"code":"var _jsxFileName = \"D:\\\\React\\\\METAFRONTEND\\\\flight-watch\\\\src\\\\components\\\\MapView.js\",\n  _s = $RefreshSig$();\nimport React, { useContext, useEffect, useState } from \"react\";\nimport { MapContainer, TileLayer, useMap, Marker, Popup } from \"react-leaflet\";\nimport { Icon } from \"leaflet\";\nimport L from \"leaflet\";\nimport FlightInfo from \"./FlightInfo\";\nimport { FlightData } from \"./FlightDataProvider\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MapView = () => {\n  _s();\n  const [data, setData] = useState(null);\n  const filter = useContext(FlightData);\n  const filterFlight = filter.filterFlight;\n  console.log(filter);\n  const icon = L.icon({\n    iconUrl: \"flight.png\",\n    iconSize: [25, 25],\n    className: \"flight-icon\"\n  });\n  async function fetchData() {\n    const response = await fetch(\"http://localhost:3500/flightInfo/\");\n    const json = await response.json();\n    setData(json);\n  }\n  useEffect(() => {\n    fetchData();\n  }, []);\n  const filterData = () => {\n    let filterFlights = data.filter(flight => flight.flightNo == filterFlight);\n    console.log(filterFlights);\n    filterFlights ? setData(filterFlights) : console.log();\n  };\n  useEffect(() => {\n    if (filterFlight.length == 4) filterData();\n  }, [filterFlight]);\n  console.log(\"data\", data);\n  return /*#__PURE__*/_jsxDEV(MapContainer, {\n    className: \"map-container\",\n    center: [51.505, -0.09],\n    zoom: 3,\n    scrollWheelZoom: false,\n    children: [/*#__PURE__*/_jsxDEV(TileLayer, {\n      attribution: \"\\xA9 <a href=\\\"https://www.openstreetmap.org/copyright\\\">OpenStreetMap</a> contributors\",\n      url: \"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this), data ? data.map(flight => /*#__PURE__*/_jsxDEV(Marker, {\n      position: flight.position,\n      icon: icon,\n      children: /*#__PURE__*/_jsxDEV(Popup, {\n        className: \"popUp-body\",\n        children: /*#__PURE__*/_jsxDEV(FlightInfo, {\n          flight: flight\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 15\n      }, this)\n    }, flight.flightId, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }, this)) : console.log(\"loading\")]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 5\n  }, this);\n};\n_s(MapView, \"VwmQ97hXZXFNcLSRGPVAQsoMeyk=\");\n_c = MapView;\nexport default MapView;\nvar _c;\n$RefreshReg$(_c, \"MapView\");","map":{"version":3,"names":["React","useContext","useEffect","useState","MapContainer","TileLayer","useMap","Marker","Popup","Icon","L","FlightInfo","FlightData","MapView","data","setData","filter","filterFlight","console","log","icon","iconUrl","iconSize","className","fetchData","response","fetch","json","filterData","filterFlights","flight","flightNo","length","map","position","flightId"],"sources":["D:/React/METAFRONTEND/flight-watch/src/components/MapView.js"],"sourcesContent":["import React, { useContext, useEffect, useState } from \"react\";\r\nimport { MapContainer, TileLayer, useMap, Marker, Popup } from \"react-leaflet\";\r\nimport { Icon } from \"leaflet\";\r\nimport L from \"leaflet\";\r\nimport FlightInfo from \"./FlightInfo\";\r\nimport { FlightData } from \"./FlightDataProvider\";\r\nconst MapView = () => {\r\n  const [data, setData] = useState(null);\r\n  const filter = useContext(FlightData);\r\n  const filterFlight = filter.filterFlight;\r\n  console.log(filter);\r\n  const icon = L.icon({\r\n    iconUrl: \"flight.png\",\r\n    iconSize: [25, 25],\r\n    className: \"flight-icon\",\r\n  });\r\n  async function fetchData() {\r\n    const response = await fetch(\"http://localhost:3500/flightInfo/\");\r\n    const json = await response.json();\r\n    setData(json);\r\n  }\r\n\r\n  useEffect(() => {\r\n    fetchData();\r\n  }, []);\r\n\r\n  const filterData = () => {\r\n    let filterFlights = data.filter(\r\n      (flight) => flight.flightNo == filterFlight\r\n    );\r\n    console.log(filterFlights);\r\n    filterFlights ? setData(filterFlights) : console.log();\r\n  };\r\n  useEffect(() => {\r\n    if (filterFlight.length == 4) filterData();\r\n  }, [filterFlight]);\r\n  console.log(\"data\", data);\r\n  return (\r\n    <MapContainer\r\n      className=\"map-container\"\r\n      center={[51.505, -0.09]}\r\n      zoom={3}\r\n      scrollWheelZoom={false}\r\n    >\r\n      <TileLayer\r\n        attribution='&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\r\n        url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\r\n      />\r\n\r\n      {data\r\n        ? data.map((flight) => (\r\n            <Marker\r\n              key={flight.flightId}\r\n              position={flight.position}\r\n              icon={icon}\r\n            >\r\n              <Popup className=\"popUp-body\">\r\n                <FlightInfo flight={flight} />\r\n              </Popup>\r\n            </Marker>\r\n          ))\r\n        : console.log(\"loading\")}\r\n    </MapContainer>\r\n  );\r\n};\r\n\r\nexport default MapView;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,UAAU,EAAEC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC9D,SAASC,YAAY,EAAEC,SAAS,EAAEC,MAAM,EAAEC,MAAM,EAAEC,KAAK,QAAQ,eAAe;AAC9E,SAASC,IAAI,QAAQ,SAAS;AAC9B,OAAOC,CAAC,MAAM,SAAS;AACvB,OAAOC,UAAU,MAAM,cAAc;AACrC,SAASC,UAAU,QAAQ,sBAAsB;AAAC;AAClD,MAAMC,OAAO,GAAG,MAAM;EAAA;EACpB,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGZ,QAAQ,CAAC,IAAI,CAAC;EACtC,MAAMa,MAAM,GAAGf,UAAU,CAACW,UAAU,CAAC;EACrC,MAAMK,YAAY,GAAGD,MAAM,CAACC,YAAY;EACxCC,OAAO,CAACC,GAAG,CAACH,MAAM,CAAC;EACnB,MAAMI,IAAI,GAAGV,CAAC,CAACU,IAAI,CAAC;IAClBC,OAAO,EAAE,YAAY;IACrBC,QAAQ,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC;IAClBC,SAAS,EAAE;EACb,CAAC,CAAC;EACF,eAAeC,SAAS,GAAG;IACzB,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,mCAAmC,CAAC;IACjE,MAAMC,IAAI,GAAG,MAAMF,QAAQ,CAACE,IAAI,EAAE;IAClCZ,OAAO,CAACY,IAAI,CAAC;EACf;EAEAzB,SAAS,CAAC,MAAM;IACdsB,SAAS,EAAE;EACb,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMI,UAAU,GAAG,MAAM;IACvB,IAAIC,aAAa,GAAGf,IAAI,CAACE,MAAM,CAC5Bc,MAAM,IAAKA,MAAM,CAACC,QAAQ,IAAId,YAAY,CAC5C;IACDC,OAAO,CAACC,GAAG,CAACU,aAAa,CAAC;IAC1BA,aAAa,GAAGd,OAAO,CAACc,aAAa,CAAC,GAAGX,OAAO,CAACC,GAAG,EAAE;EACxD,CAAC;EACDjB,SAAS,CAAC,MAAM;IACd,IAAIe,YAAY,CAACe,MAAM,IAAI,CAAC,EAAEJ,UAAU,EAAE;EAC5C,CAAC,EAAE,CAACX,YAAY,CAAC,CAAC;EAClBC,OAAO,CAACC,GAAG,CAAC,MAAM,EAAEL,IAAI,CAAC;EACzB,oBACE,QAAC,YAAY;IACX,SAAS,EAAC,eAAe;IACzB,MAAM,EAAE,CAAC,MAAM,EAAE,CAAC,IAAI,CAAE;IACxB,IAAI,EAAE,CAAE;IACR,eAAe,EAAE,KAAM;IAAA,wBAEvB,QAAC,SAAS;MACR,WAAW,EAAC,yFAAyF;MACrG,GAAG,EAAC;IAAoD;MAAA;MAAA;MAAA;IAAA,QACxD,EAEDA,IAAI,GACDA,IAAI,CAACmB,GAAG,CAAEH,MAAM,iBACd,QAAC,MAAM;MAEL,QAAQ,EAAEA,MAAM,CAACI,QAAS;MAC1B,IAAI,EAAEd,IAAK;MAAA,uBAEX,QAAC,KAAK;QAAC,SAAS,EAAC,YAAY;QAAA,uBAC3B,QAAC,UAAU;UAAC,MAAM,EAAEU;QAAO;UAAA;UAAA;UAAA;QAAA;MAAG;QAAA;QAAA;QAAA;MAAA;IACxB,GANHA,MAAM,CAACK,QAAQ;MAAA;MAAA;MAAA;IAAA,QAQvB,CAAC,GACFjB,OAAO,CAACC,GAAG,CAAC,SAAS,CAAC;EAAA;IAAA;IAAA;IAAA;EAAA,QACb;AAEnB,CAAC;AAAC,GA1DIN,OAAO;AAAA,KAAPA,OAAO;AA4Db,eAAeA,OAAO;AAAC;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}